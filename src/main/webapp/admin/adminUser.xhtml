<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">
<h:head>
    <title>admin utilisateurs</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <h:outputStylesheet name="css/main.css"/>
</h:head>
<h:body>

	<h1>Gestion des utilisateurs</h1>
	
	<h2>Liste des utilisateurs</h2>	
	
	<h:dataTable value = "#{ userControl.showUserList() }" var = "user"
		   styleClass = "styled-table">
	       <h:column>
	           <f:facet name="header">e-mail</f:facet>
	           #{user.login}
	       </h:column>
	       
	       <h:column>
	           <f:facet name="header"></f:facet>
	           <h:commandButton value="SUPPRIMER" action="#{ userControl.deleteUser(user) }"/>
	           <!--  <a href="detailActivity.xhtml?facets-redirect=true&amp;id=#{activity.id}">Remove</a> -->
	       </h:column>
	</h:dataTable>
	
	
	<div class="login-box" id="adminAdduser">
   			<h2>Ajouter un utilisateur</h2>
			<p:panel header="Login From">
	  			<h:form>
	    			<div class="user-box">
	    				<h:inputText value="#{userControl.user.login}" pt:placeholder="email" type="email" requiredMessage="Veuillez entrer une addresse mail"
    validatorMessage="Format email invalide">
   							<f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
   						</h:inputText>
	    			</div>
	    			<div class="user-box">
	      				<h:inputSecret value="#{userControl.user.password}" type="password" pt:placeholder="Mot de passe"/>
	    			</div>
	    			<h:commandButton value="Ajouter" action="#{ userControl.addNewUser() }"/>
       				 <input type="reset" value="Reset" />
	  			</h:form>
  			</p:panel>
		</div>
		
	<br/><br/>
	
	<button onclick="location.href='menuAdmin.xhtml'">Retour</button>
	
	
	
	
    
</h:body>
</html>
